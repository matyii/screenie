<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
<nav class="navbar bg-base-200 text-base-content rounded-xl">
  <div class="container mx-auto flex justify-between items-center">
    <div class="flex items-center">
      <a class="btn btn-ghost normal-case text-xl text-base-content" href="/">
        <img src="/assets/images/logo.png" width="40">
      </a>
    </div>
    <div class="flex-none lg:hidden">
      <div class="dropdown dropdown-bottom dropdown-end">
        <label tabindex="0" class="btn btn-square btn-ghost text-base-content">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
          </svg>
        </label>
        <ul tabindex="0" class="menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52">
          <% const navItems = [
          { href: "/", icon: "bi-house-fill", text: "Home" }
        ]; %>
          <% navItems.forEach(item => { %>
            <li>
              <a href="<%= item.href %>">
                <%= item.text %>
              </a>
            </li>
          <% }); %>
          <% if (isAuthenticated) { %>
            <li>
              <details>
                <summary>
                  Profile
                </summary>
                <ul>
                  <li><a href="/dashboard">Dashboard</a></li>
                  <li><a href="/dashboard/editprofile">Edit your profile</a></li>
                  <li><a href="/dashboard/uploads">Your uploads</a></li>
                  <li><a href="/dashboard/uploadpreferences">Upload Preferences</a></li>
                  <li><a href="/dashboard/settings">Settings</a></li>
                  <li><a href="/logout">Logout</a></li>
                </ul>
              </details>
            </li>
            <% if (userData && userData.permission_level > 1) { %>
              <li>
                <details>
                  <summary>
                    Admin
                  </summary>
                  <ul>
                    <li><a href="/admin/dashboard">Admin Dashboard</a></li>
                    <li><a href="/admin/users">Manage Users</a></li>
                    <li><a href="/admin/uploads">Manage Uploads</a></li>
                    <li><a href="/admin/domains">Manage Domains</a></li>
                  </ul>
                </details>
              </li>
            <% } %>
          <% } else { %>
            <li>
              <a href="/login">
                Login
              </a>
            </li>
            <li>
              <a href="/register">
                Register
              </a>
            </li>
          <% } %>
        </ul>
      </div>
    </div>
    <div class="flex-none hidden lg:flex">
      <ul class="menu menu-horizontal px-1 space-x-2">
        <% navItems.forEach(item => { %>
          <li>
            <a class="btn btn-soft btn-primary text-base-content" href="<%= item.href %>">
              <i class="bi <%= item.icon %> mr-2"></i> <%= item.text %>
            </a>
          </li>
        <% }); %>
        <% if (isAuthenticated) { %>
          <li class="dropdown dropdown-end">
            <label tabindex="0" class="btn btn-soft btn-primary text-base-content">
              <i class="bi bi-person-fill mr-2"></i> Profile
            </label>
            <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52">
              <li><a href="/dashboard">Dashboard</a></li>
              <li><a href="/dashboard/editprofile">Edit your profile</a></li>
              <li><a href="/dashboard/uploads">Your uploads</a></li>
              <li><a href="/dashboard/uploadpreferences">Upload Preferences</a></li>
              <li><a href="/dashboard/settings">Settings</a></li>
              <li><a href="/logout">Logout</a></li>
            </ul>
          </li>
          <% if (userData && userData.permission_level > 1) { %>
            <li class="dropdown dropdown-end">
              <label tabindex="0" class="btn btn-soft btn-primary text-base-content">
                <i class="bi bi-database-fill-gear"></i> Admin
              </label>
              <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52">
                <li><a href="/admin/dashboard">Admin Dashboard</a></li>
                <li><a href="/admin/users">Manage Users</a></li>
                <li><a href="/admin/uploads">Manage Uploads</a></li>
                <li><a href="/admin/domains">Manage Domains</a></li>
              </ul>
            </li>
          <% } %>
        <% } else { %>
          <li>
            <a class="btn btn-soft btn-primary text-base-content" href="/login">
              <i class="bi bi-person-fill mr-2"></i> Login
            </a>
          </li>
          <li>
            <a class="btn btn-soft btn-primary text-base-content" href="/register">
              <i class="bi bi-person-plus-fill mr-2"></i> Register
            </a>
          </li>
        <% } %>
      </ul>
    </div>
  </div>
</nav>